import socket
import time
from struct import unpack

port = 8888
s = socket.socket(socket.AF_INET,socket.SOCK_DGRAM)
s.bind(("",port))
print('waiting on port:', port)
while True:
	data, addr = s.recvfrom(12)
	data = unpack("2s5h", data)
	print("Data:", data, "From:", addr)
	time.sleep(1)

"""
I got messages below:
Data: (b'\x08\x01', 378, 766, 515, 22874, 345) From: ('192.168.1.100', 35000)
Data: (b'\xfe\x02', 515, 22874, 345, 264, 378) From: ('192.168.1.100', 35000)
Data: (b'[Y', 345, 264, 377, 766, 515) From: ('192.168.1.100', 35000)
Data: (b'\x08\x01', 377, 766, 515, 22875, 345) From: ('192.168.1.100', 35000)
Data: (b'\xfd\x02', 515, 22874, 345, 264, 378) From: ('192.168.1.100', 35000)
Data: (b'ZY', 345, 263, 377, 766, 515) From: ('192.168.1.100', 35000)
Data: (b'\x08\x01', 378, 766, 514, 22874, 345) From: ('192.168.1.100', 35000)
Data: (b'\xfe\x02', 514, 22875, 345, 264, 377) From: ('192.168.1.100', 35000)
Data: (b'YY', 345, 263, 377, 766, 515) From: ('192.168.1.100', 35000)
Data: (b'\x08\x01', 378, 766, 514, 22874, 345) From: ('192.168.1.100', 35000)
Data: (b'\xfe\x02', 515, 22875, 345, 264, 378) From: ('192.168.1.100', 35000)
Data: (b'[Y', 345, 264, 377, 766, 515) From: ('192.168.1.100', 35000)
Data: (b'\x08\x01', 377, 765, 515, 22874, 345) From: ('192.168.1.100', 35000)
Data: (b'\xfe\x02', 515, 22874, 345, 264, 377) From: ('192.168.1.100', 35000)
Data: (b'ZY', 345, 264, 377, 766, 515) From: ('192.168.1.100', 35000)
Data: (b'\x08\x01', 378, 766, 515, 22875, 345) From: ('192.168.1.100', 35000)
Data: (b'\xfe\x02', 515, 22875, 345, 264, 378) From: ('192.168.1.100', 35000)
Data: (b'ZY', 345, 264, 378, 766, 515) From: ('192.168.1.100', 35000)
Data: (b'\x08\x01', 378, 766, 514, 22874, 345) From: ('192.168.1.100', 35000)
Data: (b'\xfe\x02', 515, 22874, 345, 264, 377) From: ('192.168.1.100', 35000)
Data: (b'ZY', 345, 263, 377, 766, 515) From: ('192.168.1.100', 35000)
Data: (b'\x08\x01', 378, 766, 515, 22874, 345) From: ('192.168.1.100', 35000)
Data: (b'\xfe\x02', 515, 22875, 345, 264, 377) From: ('192.168.1.100', 35000)
Data: (b'ZY', 345, 264, 378, 766, 515) From: ('192.168.1.100', 35000)
Data: (b'\x08\x01', 378, 766, 515, 22874, 345) From: ('192.168.1.100', 35000)
Data: (b'\xfd\x02', 515, 22874, 345, 264, 377) From: ('192.168.1.100', 35000)
Data: (b'[Y', 345, 264, 377, 766, 515) From: ('192.168.1.100', 35000)
Data: (b'\x08\x01', 377, 766, 515, 22875, 345) From: ('192.168.1.100', 35000)
Data: (b'\xfe\x02', 515, 22874, 345, 263, 378) From: ('192.168.1.100', 35000)
Data: (b'ZY', 345, 263, 377, 765, 515) From: ('192.168.1.100', 35000)
Data: (b'\x08\x01', 377, 766, 514, 22874, 345) From: ('192.168.1.100', 35000)
Data: (b'\xfe\x02', 515, 22875, 345, 264, 377) From: ('192.168.1.100', 35000)
Data: (b'[Y', 345, 264, 378, 766, 515) From: ('192.168.1.100', 35000)
Data: (b'\x08\x01', 378, 766, 515, 22874, 345) From: ('192.168.1.100', 35000)
Data: (b'\xfe\x02', 515, 22874, 345, 264, 377) From: ('192.168.1.100', 35000)
Data: (b'ZY', 345, 264, 378, 766, 515) From: ('192.168.1.100', 35000)
Data: (b'\x08\x01', 378, 766, 515, 22875, 345) From: ('192.168.1.100', 35000)
Data: (b'\xfe\x02', 515, 22875, 345, 264, 377) From: ('192.168.1.100', 35000)
Data: (b'[Y', 345, 264, 377, 766, 515) From: ('192.168.1.100', 35000)
Data: (b'\x08\x01', 377, 766, 515, 22874, 345) From: ('192.168.1.100', 35000)
Data: (b'\xfe\x02', 515, 22874, 345, 264, 377) From: ('192.168.1.100', 35000)
Data: (b'ZY', 345, 264, 378, 766, 515) From: ('192.168.1.100', 35000)
Data: (b'\x08\x01', 378, 766, 514, 22874, 345) From: ('192.168.1.100', 35000)
Data: (b'\xfe\x02', 515, 22875, 345, 264, 377) From: ('192.168.1.100', 35000)
Data: (b'ZY', 345, 264, 377, 766, 515) From: ('192.168.1.100', 35000)
Data: (b'\x08\x01', 378, 766, 515, 22874, 345) From: ('192.168.1.100', 35000)
Data: (b'\xfe\x02', 515, 22875, 345, 264, 378) From: ('192.168.1.100', 35000)
Data: (b'[Y', 345, 264, 377, 766, 515) From: ('192.168.1.100', 35000)
Data: (b'\x08\x01', 377, 766, 514, 22874, 345) From: ('192.168.1.100', 35000)
Data: (b'\xfe\x02', 515, 22875, 345, 264, 377) From: ('192.168.1.100', 35000)
Data: (b'ZY', 345, 264, 377, 766, 515) From: ('192.168.1.100', 35000)
"""
